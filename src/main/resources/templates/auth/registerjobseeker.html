<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Candidate Register | RevHire</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root { --primary: #2563eb; --primary-dark: #1d4ed8; --bg-subtle: #f8fafc; --text-main: #0f172a; --text-muted: #64748b; --white: #ffffff; --border: #e2e8f0; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; }
        body { display: flex; height: 100vh; background: var(--bg-subtle); color: var(--text-main); }
        .brand-side { flex: 1.2; background: linear-gradient(135deg, rgba(37, 99, 235, 0.9), rgba(30, 64, 175, 0.9)), url('https://images.unsplash.com/photo-1521737711867-e3b97375f902?auto=format&fit=crop&q=80'); background-size: cover; background-position: center; color: white; display: flex; flex-direction: column; justify-content: center; padding: 0 8%; }
        .brand-side h1 { font-size: 4rem; font-weight: 800; margin-bottom: 1.5rem; letter-spacing: -1.5px; }
        .brand-side p { font-size: 1.25rem; opacity: 0.9; line-height: 1.6; max-width: 480px; }
        .form-side { flex: 1; background: white; display: flex; align-items: center; justify-content: center; overflow-y: auto; padding: 40px; }
        .form-container { width: 100%; max-width: 420px; }
        .form-header { margin-bottom: 2rem; }
        .form-header h2 { font-size: 2rem; font-weight: 700; margin-bottom: 0.5rem; }
        .form-header p { color: var(--text-muted); font-size: 0.95rem; }
        .form-group { margin-bottom: 1.25rem; }
        label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 0.875rem; color: var(--text-main); }
        input, select { width: 100%; padding: 12px 16px; border: 1px solid var(--border); border-radius: 8px; font-size: 1rem; transition: all 0.2s ease; outline: none; background: #fff; }
        input:focus, select:focus { border-color: var(--primary); box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1); }
        .btn-submit { width: 100%; background: var(--primary); color: white; padding: 14px; border: none; border-radius: 8px; font-weight: 700; font-size: 1rem; cursor: pointer; transition: background 0.2s; margin-top: 1rem; }
        .btn-submit:hover { background: var(--primary-dark); }
        .alert { padding: 12px; border-radius: 8px; margin-bottom: 1.5rem; font-size: 0.875rem; font-weight: 500; text-align: center; }
        .alert-error { background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }
        @media (max-width: 1024px) { .brand-side { display: none; } .form-side { background: var(--bg-subtle); } .form-container { background: white; padding: 2.5rem; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.05); } }
    </style>
</head>
<body>
<div class="brand-side">
    <h1>RevHire</h1>
    <p>Find your next career milestone. Join our community of 50k+ professionals and get matched with top companies.</p>
</div>
<div class="form-side">
    <div class="form-container">
        <div class="form-header">
            <h2>Candidate Sign Up</h2>
            <p>Looking to hire? <a th:href="@{/register-employer}" style="color: var(--primary); font-weight: 700; text-decoration: none;">Register as Employer</a></p>
        </div>
        <div th:if="${error}" class="alert alert-error" th:text="${error}"></div>
        <form th:action="@{/auth/register}" method="post" th:object="${user}">
            <input type="hidden" th:field="*{role}" value="JOB_SEEKER"/>

            <div class="form-group">
                <label><i class="fas fa-user" style="margin-right: 8px; color: var(--primary);"></i>Full Name</label>
                <input type="text" th:field="*{fullName}" placeholder="Enter your full name" required />
            </div>
            <div class="form-group">
                <label><i class="fas fa-envelope" style="margin-right: 8px; color: var(--primary);"></i>Email Address</label>
                <input type="email" th:field="*{email}" placeholder="your@email.com" required />
            </div>
            <div class="form-group">
                <label><i class="fas fa-lock" style="margin-right: 8px; color: var(--primary);"></i>Password</label>
                <input type="password" th:field="*{passwordHash}" placeholder="••••••••" required />
            </div>
            <div class="form-group">
                <label><i class="fas fa-shield-alt" style="margin-right: 8px; color: var(--primary);"></i>Security Question</label>
                <select th:field="*{securityQuestion}" required>
                    <option value="" disabled selected>Choose a question...</option>
                    <option value="COLOR">What is your favourite color?</option>
                    <option value="BIRTH_CITY">What is your birth city?</option>
                    <option value="MOTHER_NAME">What is your mother's name?</option>
                    <option value="FIRST_PET">What is the name of your first pet?</option>
                    <option value="FAV_MOVIE">What is your favourite movie?</option>
                </select>
            </div>
            <div class="form-group">
                <label><i class="fas fa-key" style="margin-right: 8px; color: var(--primary);"></i>Security Answer</label>
                <input type="text" th:field="*{securityAnswerHash}" placeholder="Your secret answer" required />
            </div>
            <button type="submit" class="btn-submit">Create Candidate Account</button>
        </form>
    </div>
</div>
</body>
</html>